# 测试框架文档

**最后更新**: 2026-01-27
**版本**: v3.0
**测试用例**: 70个（受外部网络偶发波动影响）

---

## 一、测试架构

```
tests/
├── suites/
│   ├── unit/               # 单元测试
│   ├── integration/        # 集成测试
│   └── e2e/                # 端到端测试
├── setup/                  # 测试启动/全局配置
└── fixtures/               # 测试数据

vitest.config.ts            # Vitest 配置
```

## 二、测试命令

```bash
# 全部测试
npm test

# 分类运行
npm run test:unit
npm run test:integration
npm run test:e2e
```

## 三、测试覆盖

| 类别 | 数量 | 说明 |
|------|------|------|
| 单元测试 | 48 | 逻辑正确性（稳定） |
| 集成测试 | 18 | 外部依赖连通性（可能受网络影响） |
| E2E | 4 | 工作流整体健康度 |
| **总计** | **70** | |

## 四、运行要求

1. n8n 容器运行中
2. Node.js 18+
3. 环境变量已配置 (.env)
4. 集成测试依赖外部网络与第三方服务可用性

## 五、工作流

| Workflow | 节点数 | 状态 |
|----------|--------|------|
| X Daily Pack v5 | 18 | 已激活 |
| Slack Approvals | 4 | 已激活 |
