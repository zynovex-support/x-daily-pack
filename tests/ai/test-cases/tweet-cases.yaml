# Tweet Generation Test Cases for Promptfoo
# Tests the tweet generation prompt

- description: "Generated tweets should contain URLs"
  vars:
    contentList: |
      1. [ðŸ“¢ å®˜æ–¹] OpenAIå‘å¸ƒGPT-5
         https://openai.com/blog/gpt5
         äº®ç‚¹: æ€§èƒ½å…¨é¢è¶…è¶ŠGPT-4
  assert:
    - type: is-json
    - type: javascript
      value: |
        const data = JSON.parse(output);
        const hasUrl = (text) => /https?:\/\/[^\s]+/.test(text);
        return hasUrl(data.discovery?.text);
    - type: javascript
      value: |
        const data = JSON.parse(output);
        return data.discovery?.text?.length <= 280;

- description: "Tweet tone should be casual, not formal"
  vars:
    contentList: |
      1. [ðŸ”§ å·¥å…·] yt-dlpè§†é¢‘ä¸‹è½½å·¥å…·æ›´æ–°
         https://github.com/yt-dlp/yt-dlp
         äº®ç‚¹: æ”¯æŒæ›´å¤šç½‘ç«™
  assert:
    - type: is-json
    - type: not-contains
      value: "å€¼å¾—å…³æ³¨"
    - type: not-contains
      value: "å¼•å‘çƒ­è®®"
